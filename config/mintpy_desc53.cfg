##------ Brumadinho InSAR Analysis — MintPy Configuration (DESC Track 53, inc. ~32°) ------##
## DESCENDING track 53, incidence ~32°, overpass ~08:28 UTC
## Study period: 2017-07-01 to 2019-01-25 | HyP3 INSAR_GAMMA products
##
## Edit paths below to match your actual processing directories.
## Run:  smallbaselineApp.py mintpy_desc53.cfg
## -------------------------------------------------------------------------------------------

########## 1. Load Data (from ASF HyP3 INSAR_GAMMA products)
mintpy.load.processor        = hyp3
mintpy.load.unwFile          = /home/amin/Documents/PythonProjects/EarthMovements/data/hyp3/desc53/*/*_unw_phase.tif
mintpy.load.corFile          = /home/amin/Documents/PythonProjects/EarthMovements/data/hyp3/desc53/*/*_corr.tif
mintpy.load.demFile          = /home/amin/Documents/PythonProjects/EarthMovements/data/hyp3/desc53/*/*_dem.tif
mintpy.load.incAngleFile     = /home/amin/Documents/PythonProjects/EarthMovements/data/hyp3/desc53/*/*_lv_theta.tif
mintpy.load.azAngleFile      = /home/amin/Documents/PythonProjects/EarthMovements/data/hyp3/desc53/*/*_lv_phi.tif
mintpy.load.waterMaskFile    = /home/amin/Documents/PythonProjects/EarthMovements/data/hyp3/desc53/*/*_water_mask.tif

########## 2. Modify Network
## Remove interferograms with coherence below threshold (SBAS quality control)
mintpy.network.coherenceBased = yes
mintpy.network.minCoherence   = 0.7
## Drop pairs with excessive temporal or spatial baseline
mintpy.network.tempBaseMax    = 180
mintpy.network.perpBaseMax    = 200

########## 3. Reference Point
## Coordinates of stable ground NE of dam (rocky bedrock).
mintpy.reference.lalo         = -20.06,-44.08
mintpy.reference.maskFile     = maskTempCoh.h5

########## 4. Unwrapping Error Correction
mintpy.unwrapError.method     = no

########## 5. Inversion (SBAS)
mintpy.networkInversion.weightFunc      = no     # Unweighted SBAS
mintpy.networkInversion.minNormVelocity = yes    # Minimum-norm velocity constraint
mintpy.networkInversion.maskDataset     = coherence
mintpy.networkInversion.maskThreshold   = 0.4   # Per-interferogram coherence mask

########## 6. Local Oscillator Drift Correction (Sentinel-1 specific)
mintpy.correct.LOD            = yes

########## 7. Tropospheric Delay Correction
## Disabled: geometryGeo (3047 rows) vs ifgramStack (3045 rows) size mismatch
## prevents ERA5 correction for this track.
mintpy.troposphericDelay.method       = no
mintpy.troposphericDelay.weatherModel = ERA5

########## 8. Deramping
mintpy.deramp                 = linear

########## 9. Topographic Residual Correction
mintpy.topographicResidual    = yes

########## 10. Residual RMS
mintpy.residualRMS.maskFile   = maskTempCoh.h5
mintpy.residualRMS.ramp       = quadratic
mintpy.residualRMS.threshold  = 0.02

########## 11. Reference Date
mintpy.reference.date         = auto

########## 12. Velocity
mintpy.velocity.startDate     = 20170701
mintpy.velocity.endDate       = 20190125

########## 13. Geocoding
## *** laloStep MUST match mintpy_desc155.cfg for valid 2D decomposition ***
mintpy.geocode.laloStep       = -0.0001,0.0001
mintpy.geocode.SNWE           = -20.30,-19.92,-44.35,-43.95
mintpy.geocode.fillValue      = nan

########## 14. Google Earth Output
mintpy.save.kmz               = yes

########## Working Directory
mintpy.workDir                = /home/amin/Documents/PythonProjects/EarthMovements/processing/mintpy/desc53
