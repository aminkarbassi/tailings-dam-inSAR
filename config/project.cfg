# =============================================================================
# Brumadinho InSAR Analysis - Master Project Configuration
# =============================================================================
# All scripts read this file for paths, AOI bounds, dates, and parameters.
# Edit [paths] section to match your local filesystem before running anything.
# =============================================================================

[project]
name          = brumadinho_insar
# Collapse date — used as the annotation marker on all time-series plots
collapse_date = 2019-01-25

[aoi]
# Dam center coordinates (Córrego do Feijão Mine, Dam I)
lat_center    = -20.1113
lon_center    = -44.1231

# Processing bounding box (degrees) — large enough to cover full SAR frame burst
lat_min       = -20.30
lat_max       = -19.92
lon_min       = -44.35
lon_max       = -43.95

# Extra buffer added to bbox when downloading/cropping the DEM.
# ISCE2 needs margin for geocoding edge effects.
dem_buffer    = 0.5

[dates]
# Study period: 18 months before collapse → collapse date
start_date    = 2017-07-01
end_date      = 2019-01-25

[sentinel1]
# NOTE: No ascending Sentinel-1 coverage exists for Brumadinho in 2017-2019.
# Two DESCENDING tracks are used instead:
#   "asc" label → track 53  (DESCENDING, used as secondary/cross-validation)
#   "desc" label → track 155 (DESCENDING, primary — matches published studies)
# Both have 48 scenes with 12-day repeat (S1A only over this region).
asc_relative_orbit   = 53
desc_relative_orbit  = 155

# Flight direction for both tracks (both are descending)
asc_flight_direction  = DESCENDING
desc_flight_direction = DESCENDING

[isce2]
# Interferogram network parameters
num_connections      = 3      # Each scene connects to 3 nearest neighbours
max_temp_baseline    = 180    # days — cap to limit temporal decorrelation
max_perp_baseline    = 200    # metres — cap to limit spatial decorrelation
coregistration       = NESD   # Enhanced Spectral Diversity (most accurate)
workflow             = interferogram

# SNAPHU phase unwrapping mode
# DEFO = optimised for deformation (use this); SMOOTH = for topography
snaphu_mode          = DEFO

[mintpy]
# Reference point — must be on stable bedrock, away from all mining activity.
# Verify using the average spatial coherence map produced by ISCE2.
# These initial coordinates are a rocky ridge NE of the dam; adjust if needed.
ref_lat              = -20.06
ref_lon              = -44.08

# Coherence threshold for network modification.
# Lower to 0.5 if too few pixels survive in the tailings area.
coherence_threshold  = 0.7

# Atmospheric correction method.
# Options: no (skip), pyaps (ERA5 — free), gacos (most accurate, needs account)
# Use pyaps for first pass; switch to gacos for final publication-quality results.
tropospheric_method  = pyaps

# Output geocoding resolution (~10 m at this latitude)
geocode_lalo_step    = -0.0001,0.0001

[paths]
# Update these to match your actual filesystem layout.
# All other directories are derived from these roots.
project_root   = /home/amin/Documents/PythonProjects/EarthMovements
data_dir       = /home/amin/Documents/PythonProjects/EarthMovements/data
processing_dir = /home/amin/Documents/PythonProjects/EarthMovements/processing
results_dir    = /home/amin/Documents/PythonProjects/EarthMovements/results
logs_dir       = /home/amin/Documents/PythonProjects/EarthMovements/logs
